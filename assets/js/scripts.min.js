var admin={init:function(){ajax.getUsers("returnAdminUsers")}},ajax={ajaxCall:function(t,e){return $.ajax({type:t,async:!0,cache:!1,url:"mid.php",data:e})},getUsers:function(t,e){ajax.ajaxCall("GET",{method:t,file:"admin_handler"}).done(function(t){console.log(t)}).fail(function(t){console.log(t)})}};$(document).ready(function(){$("body").hasClass("bus")&&(bus.init(),$("#date-picker").multiDatesPicker({inline:!0,altField:"#bus-date"}),$("#bus-date").change(function(){$("#date-picker").multiDatesPicker("setDate",$(this).val())})),$("body").hasClass("admin")&&admin.init(),$("body").hasClass("init_login")&&login.init()});var login={init:function(){this.bindEvents()},bindEvents:function(){login.validateLogin()},validateLogin:function(){$("form[name='loginForm']").validate({rules:{account:{required:!0,email:!0},secure:{required:!0}},submitHandler:function(t){t.submit()},messages:{account:{required:"Can't leave email empty"},secure:{required:"Can't leave password empty"}}})}},bus={init:function(){this.bindEvents()},bindEvents:function(){$(".add-to-list").on("click",function(t){t.preventDefault(),bus.populateTable()}),$("#driver-avail-submit").on("click",function(t){t.preventDefault(),bus.submitAvailability()}),$("table#list").on("click","a#delete-date",function(t){t.preventDefault(),bus.removeDriverRecord(this)})},populateTable:function(){for(var t,e=$("#bus-name").val(),i=$("#bus-date").val().split(","),a=$("#bus-time").val(),n=$("table#list tbody"),l=0;l<i.length;l++)t="<tr>",t+='<td scope="row" class="tableDriverName">'+e+"</td>",t+='<td class="tableDriverDate">'+i[l]+"</td>",t+='<td class="tableDriverTime" >'+a+'<a id="delete-date"><i class="fa fa-minus-circle fa-lg pull-right" aria-hidden="true"></i></a></td>',t+="</tr>",n.append(t)},removeDriverRecord:function(t){$(t).parents().closest("tr").empty().remove()},submitAvailability:function(){var t,e,i=$("table#list tbody").find("tr"),a=[];$(i).each(function(e,i){t={},$(this).children("td").each(function(e,i){this.classList.contains("tableDriverName")&&(t.name=$(this).text()),this.classList.contains("tableDriverDate")&&(t.date=$(this).text()),this.classList.contains("tableDriverTime")&&(t.time=$(this).text()),a.push(t)})}),e=JSON.stringify(a,null,2),alert(e)}};console.log("cong-test"),console.log("helllllooooo");